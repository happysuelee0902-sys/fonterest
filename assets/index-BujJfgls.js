(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const r of c.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function d(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(n){if(n.ep)return;n.ep=!0;const c=d(n);fetch(n.href,c)}})();const v=document.getElementById("feed"),F=document.getElementById("searchInput"),b=document.getElementById("homeBtn"),I=document.getElementById("messageBtn"),l=document.getElementById("messageModal"),C=document.getElementById("messageClose"),u=document.getElementById("boardModal"),k=document.getElementById("boardClose"),N=document.getElementById("boardList"),x=document.getElementById("profileBtn"),s=document.getElementById("profileModal"),D=document.getElementById("profileClose"),w=document.getElementById("profileBoards"),O=document.getElementById("boardBar"),T=document.getElementById("createBoardBtn"),m=document.getElementById("createBoardModal"),H=document.getElementById("createBoardClose"),M=document.getElementById("createBoardCancel"),S=document.getElementById("createBoardForm"),p=document.getElementById("createBoardInput"),P=document.getElementById("notifyBtn"),o=document.getElementById("notifyModal"),$=document.getElementById("notifyClose");let E=!1,A=0,h=null;const J="brainstorm_boards";let i={íšŒí™”:[],ì¡ì§€:[]},j=null;function V(){try{const e=localStorage.getItem(J);if(e){const t=JSON.parse(e);i={íšŒí™”:[],ì¡ì§€:[],...t}}}catch(e){console.error("Failed to load boards",e)}}function K(){try{localStorage.setItem(J,JSON.stringify(i))}catch(e){console.error("Failed to save boards",e)}}function g(){w&&(w.innerHTML="",Object.entries(i).forEach(([e,t])=>{const d=document.createElement("div");d.className="board-card";const a=document.createElement("div");a.className="board-thumb";const n=t.slice(-4).reverse();n.length===0?a.textContent="ğŸ“Œ":n.forEach(G=>{const B=document.createElement("div");B.className="board-thumb-cell",B.textContent=G.slice(0,10),a.appendChild(B)});const c=document.createElement("div");c.className="board-meta";const r=document.createElement("div");r.className="board-title",r.textContent=e;const f=document.createElement("div");f.className="board-count",f.textContent=`í•€ ${t.length}ê°œ`,c.appendChild(r),c.appendChild(f),d.appendChild(a),d.appendChild(c),w.appendChild(d)}))}function L(){O&&(O.innerHTML="",Object.keys(i).forEach(e=>{const t=document.createElement("button");t.className="board-chip",j===e&&t.classList.add("active"),t.type="button",t.textContent=e,t.addEventListener("click",()=>{j=e,L(),_(e)}),O.appendChild(t)}))}function Y(){m&&(m.classList.remove("hidden"),p&&(p.value="",p.focus()))}function y(){m&&(m.classList.add("hidden"),p&&(p.value=""))}async function Q(e){const t=["ë¶€ë“œëŸ¬ìš´","ë”°ëœ»í•œ","ì°¨ê°€ìš´","ë¹›ë‚˜ëŠ”","ëª½í™˜ì ì¸","ë¯¸ë‹ˆë©€","ë¹ˆí‹°ì§€","íŒŒìŠ¤í…”","ë”¥í†¤","ë©”íƒˆë¦­","ë‚˜ë¬´ í–¥","ì•ˆê°œ ë‚€","ë°¤í•˜ëŠ˜","í•´ì§ˆë…˜","ìƒˆë²½ê³µê¸°","ë¹„ ì˜¤ëŠ” ë‚ ","ì²«ëˆˆ","ë´„ê½ƒ","ì§ˆê°","ë°˜ì‚¬ê´‘","ì…ì²´ê°","ëª¨ë…¸í†¤","ì»¬ëŸ¬í’€","ì§ˆì£¼","ê³ ìš”","ì”ì”í•œ","ê°•ë ¬í•œ"],d=["ì¼ëŸ¬ìŠ¤íŠ¸","í¬ìŠ¤í„°","ì•„íŠ¸ì›Œí¬","ë¬´ë“œë³´ë“œ","ì§ˆê° ë ˆí¼ëŸ°ìŠ¤","ìƒ‰ ì¡°í•©","í°íŠ¸ ë¬´ë“œ","í˜•íƒœ ì‹¤ë£¨ì—£","ì‚¬ì§„ ìŠ¤íƒ€ì¼","ìŠ¤ì¼€ì¹˜"],a=e||"ì•„ì´ë””ì–´",n=t.sort(()=>.5-Math.random()).slice(0,12),c=[];for(;c.length<12;){const r=n[c.length%n.length],f=d[c.length%d.length];c.push(`${r} ${a} ${f}`)}return c}function U(e){const t=document.createElement("article");t.className="card text-card";const d=document.createElement("div");d.className="card-overlay";const a=document.createElement("div");a.className="card-badge",a.textContent="new";const n=document.createElement("button");n.className="card-save",n.type="button",n.textContent="ì €ì¥",n.addEventListener("click",f=>{f.stopPropagation(),h=e,Z()}),d.appendChild(a),d.appendChild(n);const c=document.createElement("div");c.className="card-content",c.textContent=e,t.appendChild(c),t.appendChild(d);const r=Math.floor(Math.random()*3);return r===1&&t.classList.add("medium"),r===2&&t.classList.add("large"),t}function R(e){v.innerHTML="",e.forEach(t=>{v.appendChild(U(t))})}function W(){v.innerHTML='<div class="loading">Thinking...</div>'}function X(){F.value="",v.innerHTML='<div class="loading">ë³´ë“œë¥¼ ì„ íƒí•˜ê±°ë‚˜ ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”.</div>',E=!1}function Z(){u&&(u.classList.remove("hidden"),ee())}function q(){u&&(u.classList.add("hidden"),h=null)}function ee(){N&&(N.innerHTML="",Object.keys(i).forEach(e=>{const t=document.createElement("button");t.className="modal-action board-item",t.type="button";const d=document.createElement("div");d.className="action-icon red",d.textContent="ğŸ“Œ";const a=document.createElement("div");a.className="action-text";const n=document.createElement("div");n.className="action-title",n.textContent=e;const c=document.createElement("div");c.className="action-desc",c.textContent=`í•€ ${i[e].length}ê°œ`,a.appendChild(n),a.appendChild(c),t.appendChild(d),t.appendChild(a),t.addEventListener("click",()=>{h&&(i[e].push(h),K(),g(),L()),q()}),N.appendChild(t)}))}function _(e){const t=i[e]||[];t.length?R(t):v.innerHTML=`<div class="loading">${e} ë³´ë“œê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤. ì•„ì´ë””ì–´ë¥¼ ì €ì¥í•´ë³´ì„¸ìš”.</div>`}async function te(){const e=F.value.trim();if(!e||E)return;E=!0;const t=++A;W();try{const d=await Q(e);t===A&&(!d||d.length===0?v.innerHTML='<div class="loading">ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤. í‚¤ì›Œë“œë‚˜ ëª¨ë¸ ì„¤ì •ì„ ë‹¤ì‹œ í™•ì¸í•˜ì„¸ìš”.</div>':R(d))}finally{E=!1}}F.addEventListener("keydown",e=>{e.key==="Enter"&&te()});b==null||b.addEventListener("click",e=>{e.preventDefault(),X()});function ne(){l&&l.classList.remove("hidden")}function z(){l&&l.classList.add("hidden")}I==null||I.addEventListener("click",e=>{e.preventDefault(),ne()});C==null||C.addEventListener("click",e=>{e.preventDefault(),z()});l==null||l.addEventListener("click",e=>{(e.target===l||e.target.classList.contains("modal-backdrop"))&&z()});k==null||k.addEventListener("click",e=>{e.preventDefault(),q()});u==null||u.addEventListener("click",e=>{(e.target===u||e.target.classList.contains("modal-backdrop"))&&q()});x==null||x.addEventListener("click",e=>{e.preventDefault(),g(),s==null||s.classList.remove("hidden")});D==null||D.addEventListener("click",e=>{e.preventDefault(),s==null||s.classList.add("hidden")});s==null||s.addEventListener("click",e=>{(e.target===s||e.target.classList.contains("modal-backdrop"))&&(s==null||s.classList.add("hidden"))});T==null||T.addEventListener("click",e=>{e.preventDefault(),Y()});H==null||H.addEventListener("click",e=>{e.preventDefault(),y()});M==null||M.addEventListener("click",e=>{e.preventDefault(),y()});m==null||m.addEventListener("click",e=>{(e.target===m||e.target.classList.contains("modal-backdrop"))&&y()});S==null||S.addEventListener("submit",e=>{if(e.preventDefault(),!p)return;const t=p.value.trim();t&&(i[t]||(i[t]=[],K(),L(),g(),j=t,_(t)),y())});P==null||P.addEventListener("click",e=>{e.preventDefault(),o==null||o.classList.remove("hidden")});$==null||$.addEventListener("click",e=>{e.preventDefault(),o==null||o.classList.add("hidden")});o==null||o.addEventListener("click",e=>{(e.target===o||e.target.classList.contains("modal-backdrop"))&&(o==null||o.classList.add("hidden"))});V();g();L();
